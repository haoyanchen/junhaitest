# -*- encoding=utf8 -*-
__author__ = "梁杨华"

from airtest.core.api import *

auto_setup(__file__)
# 巴比伦塔冒泡用例
touch(Template(r"tpl1647244515455.png", record_pos=(0.449, 0.137), resolution=(1600, 900)))
sleep(1.0)

touch(Template(r"tpl1647244526063.png", record_pos=(-0.029, 0.195), resolution=(1600, 900)))
sleep(2.0)
if exists(Template(r"tpl1647244536722.png", record_pos=(-0.001, -0.154), resolution=(1600, 900))):
    touch(Template(r"tpl1647244536722.png", record_pos=(-0.001, -0.154), resolution=(1600, 900)))
sleep(1.0)
if exists(Template(r"tpl1647412042827.png", record_pos=(-0.138, 0.132), resolution=(1600, 900))):
    sleep(4.0)
    touch(Template(r"tpl1647412068897.png", record_pos=(0.336, 0.228), resolution=(1600, 900)))
sleep(4.0)

if exists(Template(r"tpl1647412042827.png", record_pos=(-0.138, 0.132), resolution=(1600, 900))):
    touch(Template(r"tpl1647412068897.png", record_pos=(0.336, 0.228), resolution=(1600, 900)))
sleep(4.0)

if exists(Template(r"tpl1647412042827.png", record_pos=(-0.138, 0.132), resolution=(1600, 900))):
    touch(Template(r"tpl1647412068897.png", record_pos=(0.336, 0.228), resolution=(1600, 900)))
sleep(4.0)

# 进攻&冲锋
touch(Template(r"tpl1647393536682.png", record_pos=(0.001, 0.214), resolution=(1600, 900)))
sleep(2.0)
if exists(Template(r"tpl1647412042827.png", record_pos=(-0.138, 0.132), resolution=(1600, 900))):
    touch(Template(r"tpl1647412068897.png", record_pos=(0.336, 0.228), resolution=(1600, 900)))
sleep(4.0)
    
if exists(Template(r"tpl1647412042827.png", record_pos=(-0.138, 0.132), resolution=(1600, 900))):
    touch(Template(r"tpl1647412068897.png", record_pos=(0.336, 0.228), resolution=(1600, 900)))
sleep(4.0)

if exists(Template(r"tpl1647393565252.png", record_pos=(0.09, 0.097), resolution=(1600, 900))):
    touch(Template(r"tpl1647393599538.png", record_pos=(0.091, 0.095), resolution=(1600, 900)))
sleep(2.0)
if exists(Template(r"tpl1647393617065.png", record_pos=(0.449, 0.058), resolution=(1600, 900))):    
    touch(Template(r"tpl1647393617065.png", record_pos=(0.449, 0.058), resolution=(1600, 900)))
sleep(2.0)

if exists(Template(r"tpl1647393642621.png", record_pos=(0.003, -0.141), resolution=(1600, 900))):
    touch(Template(r"tpl1647393653943.png", record_pos=(0.001, 0.127), resolution=(1600, 900)))
sleep(2.0)


if exists(Template(r"tpl1647394012127.png", record_pos=(0.002, 0.215), resolution=(1600, 900))):
    touch(Template(r"tpl1647394024264.png", record_pos=(0.003, 0.217), resolution=(1600, 900)))


sleep(2.0)
touch(Template(r"tpl1647244582103.png", record_pos=(0.427, 0.236), resolution=(1600, 900)))
sleep(2.0)
touch(Template(r"tpl1647244593008.png", record_pos=(0.424, 0.129), resolution=(1600, 900)))
sleep(10.0)
if exists(Template(r"tpl1647244635928.png", record_pos=(0.454, 0.149), resolution=(1600, 900))):
    touch(Template(r"tpl1647244635928.png", record_pos=(0.454, 0.149), resolution=(1600, 900)))
if exists(Template(r"tpl1647485533264.png", record_pos=(0.373, 0.212), resolution=(1600, 900))):    
    sleep(30.0)
if exists(Template(r"tpl1647244659264.png", record_pos=(0.004, -0.191), resolution=(1600, 900))):
    touch(Template(r"tpl1647244674817.png", record_pos=(-0.075, 0.232), resolution=(1600, 900)))
sleep(2.0)
if exists(Template(r"tpl1647248702438.png", record_pos=(-0.077, 0.231), resolution=(1600, 900))):   
    touch(Template(r"tpl1647248557144.png", record_pos=(-0.078, 0.232), resolution=(1600, 900)))
# 查看排行榜    
sleep(2.0)

if exists(Template(r"tpl1647248438192.png", record_pos=(-0.3, -0.146), resolution=(1600, 900))):
    touch(Template(r"tpl1647248438192.png", record_pos=(-0.3, -0.146), resolution=(1600, 900)))

sleep(2.0)
if exists(Template(r"tpl1647248489081.png", record_pos=(0.394, -0.204), resolution=(1600, 900))):
    touch(Template(r"tpl1647248489081.png", record_pos=(0.394, -0.204), resolution=(1600, 900)))

sleep(1.0)

# 扫荡
touch(Template(r"tpl1647244720269.png", record_pos=(0.433, 0.217), resolution=(1600, 900)))
sleep(1.0)
if exists(Template(r"tpl1647393211504.png", record_pos=(-0.004, 0.086), resolution=(1600, 900))):
    touch(Template(r"tpl1647393224988.png", record_pos=(-0.003, 0.086), resolution=(1600, 900)))
sleep(2.0)

if exists(Template(r"tpl1647393263460.png", record_pos=(0.001, -0.122), resolution=(1600, 900))):
    touch(Template(r"tpl1647393277719.png", record_pos=(0.0, 0.131), resolution=(1600, 900)))


sleep(2.0)



touch(Template(r"tpl1647244735121.png", record_pos=(0.188, -0.127), resolution=(1600, 900)))
sleep(1.0)

# 战令
touch(Template(r"tpl1647244756302.png", record_pos=(0.422, -0.186), resolution=(1600, 900)))
sleep(1.0)
touch(Template(r"tpl1647244767220.png", record_pos=(-0.468, -0.253), resolution=(1600, 900)))
sleep(1.0)
touch(Template(r"tpl1647244783443.png", record_pos=(-0.312, -0.252), resolution=(1600, 900)))
sleep(1.0)
touch(Template(r"tpl1647244789754.png", record_pos=(0.188, -0.129), resolution=(1600, 900)))
sleep(1.0)
touch(Template(r"tpl1647244800457.png", record_pos=(-0.464, -0.253), resolution=(1600, 900)))

# 每日轮换规则之塔函数
def ta():
    sleep(2.0)

    if exists(Template(r"tpl1647244720269.png", record_pos=(0.433, 0.217), resolution=(1600, 900))):
        touch(Template(r"tpl1647244720269.png", record_pos=(0.433, 0.217), resolution=(1600, 900)))
    sleep(1.0)
    if exists(Template(r"tpl1647393211504.png", record_pos=(-0.004, 0.086), resolution=(1600, 900))):
        touch(Template(r"tpl1647393224988.png", record_pos=(-0.003, 0.086), resolution=(1600, 900)))
    sleep(2.0)

    if exists(Template(r"tpl1647393263460.png", record_pos=(0.001, -0.122), resolution=(1600, 900))):
        touch(Template(r"tpl1647393277719.png", record_pos=(0.0, 0.131), resolution=(1600, 900)))

    sleep(1.0)
    if exists(Template(r"tpl1647244735121.png", record_pos=(0.188, -0.127), resolution=(1600, 900))):
        touch(Template(r"tpl1647244735121.png", record_pos=(0.188, -0.127), resolution=(1600, 900)))
    sleep(1.0)
    sleep(1.0)
    if exists(Template(r"tpl1647393536682.png", record_pos=(0.001, 0.214), resolution=(1600, 900))):
        touch(Template(r"tpl1647393536682.png", record_pos=(0.001, 0.214), resolution=(1600, 900)))
    sleep(2.0)
    if exists(Template(r"tpl1647393565252.png", record_pos=(0.09, 0.097), resolution=(1600, 900))):
        touch(Template(r"tpl1647393599538.png", record_pos=(0.091, 0.095), resolution=(1600, 900)))
    sleep(3.0)
    if exists(Template(r"tpl1647393617065.png", record_pos=(0.449, 0.058), resolution=(1600, 900))):    
        touch(Template(r"tpl1647393617065.png", record_pos=(0.449, 0.058), resolution=(1600, 900)))
    sleep(2.0)

    if exists(Template(r"tpl1647393642621.png", record_pos=(0.003, -0.141), resolution=(1600, 900))):
        touch(Template(r"tpl1647393653943.png", record_pos=(0.001, 0.127), resolution=(1600, 900)))
    sleep(2.0)
    
    if exists(Template(r"tpl1647394012127.png", record_pos=(0.002, 0.215), resolution=(1600, 900))):
        touch(Template(r"tpl1647394024264.png", record_pos=(0.003, 0.217), resolution=(1600, 900)))

    sleep(2.0)
    if exists(Template(r"tpl1647244582103.png", record_pos=(0.427, 0.236), resolution=(1600, 900))):
        
        touch(Template(r"tpl1647244582103.png", record_pos=(0.427, 0.236), resolution=(1600, 900)))
    sleep(1.0)
    if exists(Template(r"tpl1647244593008.png", record_pos=(0.424, 0.129), resolution=(1600, 900))):
        touch(Template(r"tpl1647244593008.png", record_pos=(0.424, 0.129), resolution=(1600, 900)))
    sleep(8.0)
    if exists(Template(r"tpl1647244635928.png", record_pos=(0.454, 0.149), resolution=(1600, 900))):
        touch(Template(r"tpl1647244635928.png", record_pos=(0.454, 0.149), resolution=(1600, 900)))
    if exists(Template(r"tpl1647485533264.png", record_pos=(0.373, 0.212), resolution=(1600, 900))):    
        sleep(30.0)
    
    if exists(Template(r"tpl1647244659264.png", record_pos=(0.004, -0.191), resolution=(1600, 900))):
        touch(Template(r"tpl1647244674817.png", record_pos=(-0.075, 0.232), resolution=(1600, 900)))
    sleep(2.0)
    if exists(Template(r"tpl1647248702438.png", record_pos=(-0.077, 0.231), resolution=(1600, 900))):   
        touch(Template(r"tpl1647248557144.png", record_pos=(-0.078, 0.232), resolution=(1600, 900)))
    if exists(Template(r"tpl1647247371829.png", record_pos=(-0.464, -0.25), resolution=(1600, 900))):
        touch(Template(r"tpl1647247385130.png", record_pos=(-0.464, -0.253), resolution=(1600, 900)))


# 法则之塔    
if exists(Template(r"tpl1647244824631.png", record_pos=(-0.217, -0.174), resolution=(1600, 900))):
    touch(Template(r"tpl1647244838654.png", record_pos=(-0.229, -0.169), resolution=(1600, 900)))
if exists(Template(r"tpl1647395061858.png", record_pos=(0.001, 0.216), resolution=(1600, 900))):    
    ta()
    
# 荣耀之塔
if exists(Template(r"tpl1647247438121.png", record_pos=(0.214, -0.171), resolution=(1600, 900))):
    touch(Template(r"tpl1647247451511.png", record_pos=(0.215, -0.17), resolution=(1600, 900)))
sleep(2.0)
if exists(Template(r"tpl1647395061858.png", record_pos=(0.001, 0.216), resolution=(1600, 900))):
    ta()

# 野性之塔
if exists(Template(r"tpl1647247470469.png", record_pos=(-0.223, 0.018), resolution=(1600, 900))):
    touch(Template(r"tpl1647247479989.png", record_pos=(-0.227, 0.015), resolution=(1600, 900)))
sleep(2.0)
if exists(Template(r"tpl1647395061858.png", record_pos=(0.001, 0.216), resolution=(1600, 900))):
    ta()

# 智者之塔
if exists(Template(r"tpl1647247485892.png", record_pos=(0.216, 0.014), resolution=(1600, 900))):
    touch(Template(r"tpl1647247506110.png", record_pos=(0.218, 0.014), resolution=(1600, 900)))
sleep(2.0)
if exists(Template(r"tpl1647395061858.png", record_pos=(0.001, 0.216), resolution=(1600, 900))):
    ta()

sleep(1.0)
if exists(Template(r"tpl1647247764036.png", record_pos=(0.349, -0.196), resolution=(1600, 900))):
    touch(Template(r"tpl1647247764036.png", record_pos=(0.349, -0.196), resolution=(1600, 900)))
sleep(2.0)
touch(Template(r"tpl1647247789456.png", record_pos=(-0.464, -0.251), resolution=(1600, 900)))

sleep(2.0)













